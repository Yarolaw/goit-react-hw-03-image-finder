{"version":3,"sources":["components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/pixabay-api.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js"],"names":["module","exports","SearchBar","state","query","handleChangeQuery","e","setState","currentTarget","value","handleSubmitForm","preventDefault","props","onSubmitForm","this","className","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","previewUrl","imageUrl","onClickImage","onClick","src","alt","data-url","ImageGallery","galleryPhotos","onOpenModal","map","id","largeImageURL","webformatURL","axios","defaults","baseURL","galleryApi","API_KEY","fetchGallery","pageNumber","get","then","data","hits","result","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackDropClick","target","window","addEventListener","removeEventListener","createPortal","color","size","App","s","loaderContainer","visible","isLoading","height","width","timeout","gallery","page","searchQuery","showModal","modalImageUrl","quantity","toggleModal","pixabayApi","images","finally","handleLoadMoreBtn","handleOpenModal","url","dataset","onChangeQuery","scrollToNextPage","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevState","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.024a0bb6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"Loader_loaderContainer__3qPAd\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends Component {\r\n   state = {\r\n     query: ''\r\n    }\r\n handleChangeQuery = e => this.setState({ query: e.currentTarget.value });\r\n    \r\n handleSubmitForm = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n    if (!query) return;\r\n    this.props.onSubmitForm(query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmitForm}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            value={query}\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChangeQuery}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchBar.propTypes = {\r\n  onSubmitForm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar","import PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({\r\n  previewUrl,\r\n  imageUrl,\r\n  onClickImage,\r\n}) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={e => onClickImage(e)}>\r\n      <img\r\n        src={previewUrl}\r\n        alt=\"\"\r\n        className=\"ImageGalleryItem-image\"\r\n        data-url={imageUrl}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  previewUrl: PropTypes.string,\r\n  imageUrl: PropTypes.string,\r\n  onClickImage: PropTypes.func,\r\n};","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery({ galleryPhotos, onOpenModal }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {galleryPhotos.map(({ id, largeImageURL, webformatURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          previewUrl={webformatURL}\r\n          imageUrl={largeImageURL}\r\n          onClickImage={onOpenModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  onOpenModal: PropTypes.func,\r\n  galleryPhotos: PropTypes.arrayOf(\r\n    PropTypes.exact({\r\n      id: PropTypes.number,\r\n      webformatURL: PropTypes.string,\r\n      largeImageURL: PropTypes.string,\r\n    }),\r\n  ),\r\n};","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\n\r\nconst galleryApi = {\r\n  API_KEY: '19700503-b2d39d1f98216d71a2eb0aa47',\r\n\r\n  fetchGallery (query = '', pageNumber = 1) {\r\n    return  axios\r\n      .get(\r\n        `/?q=${query}&page=${pageNumber}&key=${this.API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n      .then(({ data }) => data.hits)\r\n      .then(result =>\r\n        result.map(({ id, largeImageURL, webformatURL }) => ({\r\n          id,\r\n          largeImageURL,\r\n          webformatURL,\r\n        })),\r\n      );\r\n  },\r\n};\r\n\r\nexport default galleryApi;","import PropTypes from 'prop-types';\r\n\r\nexport default function Button({ onLoadMore }) {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={() => onLoadMore()}>\r\n      load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func,\r\n};","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { AiOutlineCloseCircle } from 'react-icons/ai';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackDropClick}>\r\n        <div className=\"Modal\">\r\n          <div\r\n            className=\"ModalButtonWrapper\"\r\n            onClick={() => this.props.onCloseModal()}\r\n          >\r\n            <AiOutlineCloseCircle color=\"white\" size=\"25px\" />\r\n          </div>\r\n          <img src={this.props.imageUrl} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}","import Loader from 'react-loader-spinner';\r\nimport { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './Loader.module.css';\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className={s.loaderContainer}>\r\n        <Loader\r\n          visible={this.props.isLoading}\r\n          type=\"BallTriangle\"\r\n          color=\"#00BFFF\"\r\n          height={50}\r\n          width={50}\r\n          timeout={0}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}","import { Component } from 'react';\r\n\r\nimport SearchBar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport pixabayApi from './services/pixabay-api';\r\nimport Button from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\nimport Loader from './components/Loader/Loader';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    gallery: [],\r\n    page: 1,\r\n    searchQuery: '',\r\n    showModal: false,\r\n    modalImageUrl: '',\r\n    isLoading: false,\r\n    quantity: 8,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { page, searchQuery, quantity } = this.state;\r\n\r\n    if (prevState.searchQuery !== searchQuery) {\r\n      this.fetchGallery();\r\n    }\r\n\r\n    if (prevState.page !== page) {\r\n      this.scrollToNextPage();\r\n    }\r\n\r\n    if (prevState.quantity !== quantity && searchQuery) {\r\n      this.fetchGallery();\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  fetchGallery = () => {\r\n    const { page, searchQuery, quantity } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    pixabayApi\r\n      .fetchGallery(searchQuery, page, quantity)\r\n      .then(images => {\r\n        this.setState(({ gallery, page }) => ({\r\n          gallery: [...gallery, ...images],\r\n          page: page + 1,\r\n        }));\r\n      })\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  handleLoadMoreBtn = () => {\r\n    this.fetchGallery();\r\n\r\n    this.setState(({ page }) => ({\r\n      page: page + 1,\r\n    }));\r\n  };\r\n\r\n  handleOpenModal = e => {\r\n    const url = e.target.dataset.url;\r\n\r\n    this.toggleModal();\r\n    this.setState({ modalImageUrl: url });\r\n  };\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      gallery: [],\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  scrollToNextPage = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { gallery, showModal, modalImageUrl, isLoading } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <SearchBar\r\n          onSubmitForm={this.onChangeQuery}\r\n        />\r\n        <main>\r\n          <ImageGallery\r\n            galleryPhotos={gallery}\r\n            onOpenModal={this.handleOpenModal}\r\n          />\r\n          <Loader isLoading={isLoading} />\r\n\r\n          {gallery.length > 0 && !isLoading && (\r\n            <Button onLoadMore={this.fetchGallery} />\r\n          )}\r\n\r\n          {showModal && (\r\n            <Modal imageUrl={modalImageUrl} onCloseModal={this.toggleModal} />\r\n          )}\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/styles.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}